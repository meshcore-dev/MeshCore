; ────────────────────────────────────────────────
; PlatformIO Project Configuration
; Board: Heltec WiFi LoRa 32 V1 (ESP32 + SX1276)
; ────────────────────────────────────────────────

[env:heltec_wifi_lora_32_v1]
platform = espressif32
board = heltec_wifi_lora_32
framework = arduino

monitor_speed = 115200
upload_speed = 921600

build_flags =
  -I variants/heltec_v1
  -D HELTEC_LORA_V1

  ; ── LoRa Radio Configuration ──
  -D RADIO_CLASS=CustomSX1276
  -D WRAPPER_CLASS=CustomSX1276Wrapper
  -D SX127X_CURRENT_LIMIT=120
  -D LORA_TX_POWER=20

  ; ── SPI Pins ──
  -D LORA_SCK=5       ; SPI SCK
  -D LORA_MISO=19     ; SPI MISO
  -D LORA_MOSI=27     ; SPI MOSI
  -D LORA_CS=18       ; Chip Select (NSS)

  ; ── Control Pins ──
  -D LORA_RST=14      ; Reset (RST)
  -D LORA_DIO0=26     ; DIO0 (IRQ)
  -D LORA_DIO1=35     ; DIO1 (input-only pin)
  -D LORA_DIO2=34     ; DIO2 (input-only pin)

  ; ── Optional LoRa LEDs ──
  -D P_LORA_TX_LED=-1 ; V1 has no dedicated TX LED

  ; ── OLED Pins ──
  -D PIN_OLED_SDA=4
  -D PIN_OLED_SCL=15
  -D PIN_OLED_RESET=16


  ; ── User Button (if used) ──
  -D PIN_USER_BTN=0

build_src_filter =
  +<../variants/heltec_v1>
  +<../src>
  +<../helpers/esp32>
  +<../helpers/ui>
  +<../examples/simple_repeater>
  +<../examples/simple_room_server>
  +<../examples/simple_secure_chat>
  -<../helpers/nrf52>
  -<../helpers/rp2040>

; ── Library Dependencies ──
lib_deps =
  adafruit/Adafruit SSD1306 @ ^2.5.13
  ${esp32_base.lib_deps}
  Crypto
  ed25519
  RTClib
